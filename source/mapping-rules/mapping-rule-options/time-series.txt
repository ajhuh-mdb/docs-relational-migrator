.. _rm-timeseries:

===========
Time Series
===========

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

You can configure mapping rules to migrate a table that contains a date 
time column as a :ref:`time series collections <manual-timeseries-collection>`. 
Time series collections efficiently store time series data. In time 
series collections, writes are organized so that data from the same 
source is stored alongside other data points from a similar point in time.

About this Task
---------------

Compared to normal collections, storing time series data in time series
collections improves query efficiency and reduces the disk usage for
time series data and :term:`secondary indexes <secondary index>`.

Before you Begin
----------------

Steps
-----

.. procedure::
   :style:  connected

   .. step:: Select a collection with a datetime field 
      
      a. Navigate to the :guilabel:`Schema model`
      #. Click on a collection that has a date time field under 
         the :guilabel:`MongoDB` header.

   .. step:: Configure the time-series collection
     
      a. On the :guilabel:`Mappings` pane, click the :guilabel:`Configure`
         button.
      #. Select the :guilabel:`Time Series Collection` radio button.
      #. Select a :guilabel:`Time Field`.
      #. (Optional) Select a :guilabel:`Meta Field`.
      #. Select a :guilabel:`Granularity`.
      #. (Optional) Select a :guilabel:`Expire After Seconds`.
      #. Click :guilabel:`Save And Close`.

         .. note::

            Once a collection is configured with at time field, the 
            :icon-lg:`TimeSeries` icon displays under the 
            :guilabel:`MongoDB` 

Example
-------

.. tabs::

   .. tab:: Relational Input
      :tabid: new-document-in

      ``Customer`` table:

      .. list-table::
         :header-rows: 1

         * - Id
           - Name
           - Address1
           - Address2
           - Address3
         * - 1
           - Joelynn Fawthrop
           - 86 Dwight Pass
           - Carregal
           - 3800-854

   .. tab:: MongoDB Output
      :tabid: Embedded-array-out

      The document in the ``Customer`` collection now has all the relation
      table fields.

      .. code-block:: javascript
         :copyable: false

         {  
            "_id": {    "CustomerID": 1  },
            "Name": "Joelynn Fawthrop",
            "Address1": "86 Dwight Pass",
            "Address2": "Carregal",
            "Address3": "3800-854"
         }

Learn More
----------

- :manual:`Time series best practices</core/timeseries/timeseries-best-practices>`
- :ref:`timeseries-add-secondary-index`
- :ref:`time-series-fields`
- :ref:`tsc-best-practice-optimize-query-performance`
