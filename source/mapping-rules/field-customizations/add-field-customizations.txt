.. _rm-add-customized-fields:

=====================
Add Customized Fields
=====================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

Customized fields let you choose a custom BSON data type for your 

Before you Begin
----------------

To create a calculated field, you must define a mapping rule.

To create mapping rules, see the following pages:

- :ref:`rm-new-rules-from-mappings`

- :ref:`create-rule-mongodb`

- :ref:`create-rule-relational`

About this Task
---------------

Calculated field expressions access values from the current source
database row using the syntax ``columns["<COLUMN_NAME>"]``.

Steps
-----

#. From the :guilabel:`Mapping` screen, click a table or collection name
   on the :guilabel:`schema model` pane or diagram view.

#. Add a new mapping rule or edit an existing mapping rule.

#. Click the :guilabel:`+` icon to the right of the :guilabel:`All
   fields` label.

#. Define a name for the new field in the :guilabel:`Field Name` text
   box.

#. Define a valid JavaScript expression for the new field in the ``Value
   expression`` text box.

#. Click :guilabel:`Done`.

#. Click :guilabel:`Save and close`.

The new field is visible in MongoDB after your next sync job runs.

Examples
--------

The following examples show original values types, and the results 
after converted values to a specific BSON data-type: 

.. list-table::
   :header-rows: 1

   * - Example
     - Boolean
     - Date
     - Decimal
     - Double
     - Int32
     - Long
     - String

   * - ``100 (Int32)``
     - ``false``
     - ``Thu Jan 01 10:00:00 AEST 1970``
     - ``100.0``
     -  100.0
     - 100
     - 100
     - "100"
